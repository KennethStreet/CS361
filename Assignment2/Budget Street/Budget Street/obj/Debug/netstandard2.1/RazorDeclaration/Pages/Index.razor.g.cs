// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace Budget_Street.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Budget_Street;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Budget_Street.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Budget_Street.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\_Imports.razor"
using Budget_Street.Helpers;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 129 "C:\Users\Kenne\git\Oregon_State\CS361\Assignment2\Budget Street\Budget Street\Pages\Index.razor"
      

    private Budgets PersonsBudgets { get; set; } = new Budgets();
    private Categories PersonsCategories { get; set; } = new Categories();

    private double CurrencyValue { get; set; } = 2000.00;

    private bool IsHousing { get; set; }
    private bool IsDebt { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        InitializeBudget();
        InitializeCategories();

        DialogService.OnOpen += Open;
        DialogService.OnClose += Close;
    }

    private void InitializeBudget()
    {
        var budget1 = new Budget()
        {
            BudgetId = 1,
            Year = 2023,
            Month = 1,
            BudgetedIncome = 5000,
            Categories = new List<Category>()
        };

        var budget2 = new Budget()
        {
            BudgetId = 2,
            Year = 2023,
            Month = 2,
            BudgetedIncome = 5000,
            Categories = new List<Category>()
        };

        var budget3 = new Budget()
        {
            BudgetId = 3,
            Year = 2023,
            Month = 3,
            BudgetedIncome = 5000,
            Categories = new List<Category>()
        };

        PersonsBudgets.Add(budget1);
        PersonsBudgets.Add(budget2);
        PersonsBudgets.Add(budget3);
    }

    private void InitializeCategories()
    {
        var category1 = new Category()
        {
            CategoryId = 1,
            CategoryName = "Housing",
            CategoryItems = new List<CategoryItem>()
        };

        var category2 = new Category()
        {
            CategoryId = 2,
            CategoryName = "Transportation",
            CategoryItems = new List<CategoryItem>()
        };

        var category3 = new Category()
        {
            CategoryId = 3,
            CategoryName = "Debt",
            CategoryItems = new List<CategoryItem>()
        };

        PersonsCategories.Add(category1);
        PersonsCategories.Add(category2);
        PersonsCategories.Add(category3);
    }

    public async Task DeleteTransaction()
    {
        await DialogService.Confirm("Delete Transaction?", "Delete", new ConfirmOptions() { OkButtonText = "Delete", CancelButtonText = "Cancel" });
        IsDebt = !IsDebt;
    }

    public async Task AddExpense()
    {
        await DialogService.OpenAsync<ExpenseModal>("Add Expense",
            new Dictionary<string, object>() { { "PersonsCategories", PersonsCategories } },
            new DialogOptions() { Width = "700px", Height = "512px", Resizable = true, Draggable = true });
    }

    public async Task EditExpense()
    {
        await DialogService.OpenAsync<EditModal>("Edit Expense",
            new Dictionary<string, object>() { { "PersonsCategories", PersonsCategories }, { "DropdownValue", "Housing" }, { "TransactionValue", "Electricity"}, { "CurrencyValue", 100.00} },
            new DialogOptions() { Width = "700px", Height = "512px", Resizable = true, Draggable = true });
        IsHousing = !IsHousing;
    }

    public void OnChange(object args, string tag)
    {
    }

    private class CategoryItemTransactions
    {
        public int TransactionId { get; set; }
        public int CategoryItemId { get; set; }
    }

    void Open(string title, Type type, Dictionary<string, object> parameters, DialogOptions options)
    {
        Console.WriteLine("Dialog open");
    }

    void Close(dynamic result)
    {
        Console.WriteLine("Dialog closed");
    }

    public void Dispose()
    {
        // The DialogService is a singleton so it is advisable to unsubscribe.
        DialogService.OnOpen -= Open;
        DialogService.OnClose -= Close;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DialogService DialogService { get; set; }
    }
}
#pragma warning restore 1591
